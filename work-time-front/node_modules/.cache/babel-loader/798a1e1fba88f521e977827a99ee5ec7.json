{"ast":null,"code":"import DurationService from \"../API/DurationService\";\nconst EMPLOYEE_ID = 1;\n\nasync function FixExecuting() {\n  let duration = await DurationService.getByUserAndIsLast(EMPLOYEE_ID);\n  const diff = new Date().getMinutes() - duration.startTime.getMinutes();\n  const newTimeCount = duration.timeCount + diff;\n  await DurationService.update(duration._links.self.href, {\n    timeCount: newTimeCount,\n    startTime: new Date()\n  });\n  return duration;\n}\n\n_c = FixExecuting;\nexport default FixExecuting;\n\nvar _c;\n\n$RefreshReg$(_c, \"FixExecuting\");","map":{"version":3,"names":["DurationService","EMPLOYEE_ID","FixExecuting","duration","getByUserAndIsLast","diff","Date","getMinutes","startTime","newTimeCount","timeCount","update","_links","self","href"],"sources":["C:/big-projects/work-time/work-time-front/src/business-logic/FixTimeCount.js"],"sourcesContent":["import DurationService from \"../API/DurationService\";\r\n\r\nconst EMPLOYEE_ID = 1;\r\n\r\nasync function FixExecuting() {\r\n    let duration = await DurationService.getByUserAndIsLast(EMPLOYEE_ID);\r\n\r\n    const diff = new Date().getMinutes() - duration.startTime.getMinutes();\r\n    const newTimeCount = duration.timeCount + diff;\r\n\r\n    await DurationService.update(duration._links.self.href, {timeCount: newTimeCount\r\n                                    ,startTime : new Date()});\r\n\r\n    return duration;\r\n}\r\n\r\nexport default FixExecuting;"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,wBAA5B;AAEA,MAAMC,WAAW,GAAG,CAApB;;AAEA,eAAeC,YAAf,GAA8B;EAC1B,IAAIC,QAAQ,GAAG,MAAMH,eAAe,CAACI,kBAAhB,CAAmCH,WAAnC,CAArB;EAEA,MAAMI,IAAI,GAAG,IAAIC,IAAJ,GAAWC,UAAX,KAA0BJ,QAAQ,CAACK,SAAT,CAAmBD,UAAnB,EAAvC;EACA,MAAME,YAAY,GAAGN,QAAQ,CAACO,SAAT,GAAqBL,IAA1C;EAEA,MAAML,eAAe,CAACW,MAAhB,CAAuBR,QAAQ,CAACS,MAAT,CAAgBC,IAAhB,CAAqBC,IAA5C,EAAkD;IAACJ,SAAS,EAAED,YAAZ;IACvBD,SAAS,EAAG,IAAIF,IAAJ;EADW,CAAlD,CAAN;EAGA,OAAOH,QAAP;AACH;;KAVcD,Y;AAYf,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}