{"ast":null,"code":"var _jsxFileName = \"C:\\\\big-projects\\\\work-time\\\\work-time-front\\\\src\\\\components\\\\taskRequest\\\\RequestMain.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../../styles/App.css';\nimport TaskService from \"../../API/TaskService\";\nimport RequestList from \"./RequestList\";\nimport Header from \"../Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RequestMain = () => {\n  _s();\n\n  const [tasks, setTasks] = useState([]);\n  const [removeButton, setRemoveButton] = useState(false);\n  useEffect(() => {\n    fetchTasks();\n  }, [removeButton]);\n\n  async function fetchTasks() {\n    const tasks = await TaskService.getAllByStatus('RAW');\n    setTasks(tasks);\n  }\n\n  const removeTask = async task => {\n    await TaskService.remove(task._links.self.href);\n    setRemoveButton(false);\n  };\n\n  const applyTask = async task => {\n    const taskUri = task._links.self.href;\n    const updateTask = {\n      status: 'NEW'\n    };\n    await TaskService.update(taskUri, updateTask);\n    setRemoveButton(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(RequestList, {\n      apply: applyTask,\n      remove: removeTask,\n      tasks: tasks,\n      removeButton: removeButton,\n      setRemoveButton: setRemoveButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RequestMain, \"dpq8EBF0XC3GujgNeDcBSKK3oVc=\");\n\n_c = RequestMain;\nexport default RequestMain;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestMain\");","map":{"version":3,"names":["React","useEffect","useState","TaskService","RequestList","Header","RequestMain","tasks","setTasks","removeButton","setRemoveButton","fetchTasks","getAllByStatus","removeTask","task","remove","_links","self","href","applyTask","taskUri","updateTask","status","update"],"sources":["C:/big-projects/work-time/work-time-front/src/components/taskRequest/RequestMain.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport '../../styles/App.css';\r\nimport TaskService from \"../../API/TaskService\";\r\nimport RequestList from \"./RequestList\";\r\nimport Header from \"../Header\";\r\n\r\nconst RequestMain = () =>  {\r\n    const [tasks, setTasks] = useState([]);\r\n    const [removeButton, setRemoveButton] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchTasks();\r\n    }, [removeButton])\r\n\r\n    async function fetchTasks() {\r\n        const tasks = await TaskService.getAllByStatus('RAW');\r\n        setTasks(tasks);\r\n    }\r\n\r\n    const removeTask = async (task) => {\r\n        await TaskService.remove(task._links.self.href);\r\n        setRemoveButton(false);\r\n    }\r\n\r\n    const applyTask = async (task) => {\r\n        const taskUri = task._links.self.href;\r\n        const updateTask = {status : 'NEW'};\r\n\r\n        await TaskService.update(taskUri, updateTask);\r\n        setRemoveButton(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            <RequestList apply={applyTask} remove={removeTask} tasks={tasks} removeButton={removeButton} setRemoveButton={setRemoveButton}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RequestMain;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAO,sBAAP;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;AAEA,MAAMC,WAAW,GAAG,MAAO;EAAA;;EACvB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,KAAD,CAAhD;EAEAD,SAAS,CAAC,MAAM;IACZU,UAAU;EACb,CAFQ,EAEN,CAACF,YAAD,CAFM,CAAT;;EAIA,eAAeE,UAAf,GAA4B;IACxB,MAAMJ,KAAK,GAAG,MAAMJ,WAAW,CAACS,cAAZ,CAA2B,KAA3B,CAApB;IACAJ,QAAQ,CAACD,KAAD,CAAR;EACH;;EAED,MAAMM,UAAU,GAAG,MAAOC,IAAP,IAAgB;IAC/B,MAAMX,WAAW,CAACY,MAAZ,CAAmBD,IAAI,CAACE,MAAL,CAAYC,IAAZ,CAAiBC,IAApC,CAAN;IACAR,eAAe,CAAC,KAAD,CAAf;EACH,CAHD;;EAKA,MAAMS,SAAS,GAAG,MAAOL,IAAP,IAAgB;IAC9B,MAAMM,OAAO,GAAGN,IAAI,CAACE,MAAL,CAAYC,IAAZ,CAAiBC,IAAjC;IACA,MAAMG,UAAU,GAAG;MAACC,MAAM,EAAG;IAAV,CAAnB;IAEA,MAAMnB,WAAW,CAACoB,MAAZ,CAAmBH,OAAnB,EAA4BC,UAA5B,CAAN;IACAX,eAAe,CAAC,KAAD,CAAf;EACH,CAND;;EAQA,oBACI;IAAA,wBACI,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI,QAAC,WAAD;MAAa,KAAK,EAAES,SAApB;MAA+B,MAAM,EAAEN,UAAvC;MAAmD,KAAK,EAAEN,KAA1D;MAAiE,YAAY,EAAEE,YAA/E;MAA6F,eAAe,EAAEC;IAA9G;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH,CAhCD;;GAAMJ,W;;KAAAA,W;AAkCN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}